<apex:page standardStylesheets="false" showHeader="true" sidebar="false" controller="vlocity_cmt.DocumentTemplateDisplayController">
<html xmlns:ng="http://angularjs.org" lang="en">
    <head>
        <meta charset="utf-8"/>
        <base href="/apex/DocumentTemplate"/>
        <apex:includeScript value="{!URLFOR($Resource.vlocity_cmt__vlocity_assets, '/javascripts/vlocity.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.vlocity_cmt__vlocity_assets, '/bower_components/angular-drag-and-drop-lists/angular-drag-and-drop-lists.js')}"/>
        <apex:includeScript value="{!$Resource.vlocity_cmt__SEGJS}" />
        <apex:includeScript value="{!$Resource.vlocity_cmt__ViaDirectives}"/> 
        <apex:includeScript value="{!$Resource.vlocity_cmt__SldsAngular}"/>
        <apex:includeScript value="{!$Resource.vlocity_cmt__DocumentTemplateApp}"/>
        <apex:includeScript value="{!$Resource.vlocity_cmt__JSZip}"/>
        <apex:includeScript value="{!URLFOR($Resource.vlocity_cmt__tinymce, '/js/tinymce/tinymce.min.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.vlocity_cmt__ui_tinymce, '/src/tinymce.js')}"/>
        <apex:stylesheet value="{!URLFOR($Resource.vlocity_cmt__slds_2_2_2, '/assets/styles/salesforce-lightning-design-system-vf.min.css')}"/>
        <apex:stylesheet value="{!URLFOR($Resource.vlocity_cmt__vlocity_assets, '/css/font-hack.css')}"/> 
        <apex:stylesheet value="{!$Resource.vlocity_cmt__DocumentBaseCss}" />
        <apex:stylesheet value="{!$Resource.vlocity_cmt__DocumentTemplateCss}" />
        <apex:stylesheet value="{!$Resource.vlocity_cmt__ContractEntityFilterOverrideCss}" id="contract-entity-filter-override" />

    </head>
    <body>
    
    <div class="vloc-body ng-cloak" ng-app="documentTemplateApp" ng-controller="documentTemplateCtrl">
        <div class="vlocity via-slds" via-affix="top" via-screen-height="viaScreenHeight">
            <div class="slds-spinner_container" ng-show="vlcLoading">
                <div class="slds-spinner slds-spinner--medium" aria-hidden="false" role="alert"  ng-show="!isInternetExplorer" >
                      <div class="slds-spinner__dot-a"></div>
                      <div class="slds-spinner__dot-b"></div>
                </div>
                <span ng-show="isInternetExplorer" class="spinner ng-hide"></span>
            </div>
            <div class="container">
                <div class="slds-page-header custom-header" role="banner">
                    <div class="slds-grid slds-grid--vertical-align-center">
                        <div class="slds-size--1-of-3" role="banner">
                            <div id="template-page-header_media" class="slds-media slds-no-space slds-grow">
                                <div id="clause-page-header_media_fiure" class="slds-media__figure">
                                  <svg aria-hidden="true" class="slds-icon slds-icon-standard-post" ng-class="{'slds-icon-standard-task' : templateActive}">
                                    <slds-svg-icon ng-if="!templateActive && (!cloningTemplate || leftColHeader == 'Start New Template')" id="clause-page-header_icon" sprite="'custom'" icon="'custom18'" size="'medium'" ></slds-svg-icon>
                                    <slds-svg-icon ng-if="templateActive" id="clause-page-header_icon" sprite="'custom'" icon="'custom77'" size="'medium'"></slds-svg-icon>
                                    <slds-svg-icon ng-if="cloningTemplate && leftColHeader !== 'Start New Template' && !templateActive" id="clause-page-header_icon" sprite="'custom'" icon="'custom18'" size="'medium'"></slds-svg-icon>
                                    </svg>
                                </div>
                                <div class="slds-media__body" id="clause-page-header_media_body">
                                      <h1 ng-if="!templateData.templateActive" id="clause-page-header_media_body2" class="slds-page-header__title custom slds-m-right--small slds-align-middle slds-truncate">{{leftColHeader}}</h1>
                                      <h1 ng-if="templateData.templateActive" id="clause-page-header_media_body2" class="slds-page-header__title custom slds-m-right--small slds-align-middle slds-truncate" >{{labels.CLMTemplateViewing}} "{{templateData.templateName}}"</h1>
                                        <p  id="clause-page-header_media_body1" class="slds-text-heading--label slds-line-height--reset">
                                        {!$label.CLMTemplateVersion} {{templateData.templateVersion}}
                                        <span ng-if="!templateData.templateId && templateData.templateType !== 'Select Template Type'"> â€¢ {{templateData.templateType}}</span>
                                      </p>
                                    </div>
                              </div>
                        </div>
                        <div class="slds-size--2-of-3">
                            <div class="slds-float--right slds-m-left--small">
                                <button ng-if="(settingsFilterOverlay.show && !cloningTemplate && !templateActive)" type="button" class="slds-button slds-button--brand" ng-click="saveTemplate(checkUniqueName)" ng-disabled="validationErrorMessage || templateSaved.isSaved">{{modalLabels.CLMTemplateSaveTemplateDetails}} 
                                    <span ng-show="!templateSaved.isSaved && settingsFilterOverlay.show" data-placement="left"> <slds-button-svg-icon id="warning-btn" sprite="'utility'" icon="'warning'" size="'medium'" extra-classes="'slds-m-bottom--xx-small'"></slds-button-svg-icon></span>
                                </button> 
                                <button ng-if="(settingsFilterOverlay.show && cloningTemplate && !templateActive)" type="button" class="slds-button slds-button--brand" ng-click="saveTemplate(checkUniqueName)">
                                    {{modalLabels.CLMTemplateCloneTemplate}}
                                </button> 
                                 <button  ng-if="templateActive" type="button" class="slds-button slds-button--brand" ng-click="createNewVersion()" ng-disabled="isCreatingNewVersion">
                                  {{modalLabels.CLMTemplateCreateNewVersion}}
                                </button>
                            </div>
                            <div class="slds-button-group slds-float--right" role="group" ng-show="entityFilterOverlay.show">
                                <button class="slds-button slds-button--neutral" ng-show="entityFilterOverlay.show" ng-click="entityFilter.backToSection(applicableItemTypes, entityFilterOverlay, templateData.sections[currentSectionSequence])">
                                    <slds-button-svg-icon id="edit-details-btn" sprite="'utility'" icon="'back'" size="'small'" extra-classes="'slds-button__icon--left'"></slds-button-svg-icon>
                                    {!$label.CLMTemplateBackToSection}
                                </button>
                            </div>
                            <div class="slds-button-group slds-float--right" role="group" ng-hide="entityFilterOverlay.show">
                                <button class="slds-button slds-button--neutral" ng-click="goToTemplateOverview()">
                                    <slds-button-svg-icon id="back-to-contract" sprite="'utility'" icon="'back'" size="'small'" extra-classes="'slds-button__icon--left'"></slds-button-svg-icon>
                                    {!$label.CLMTemplateBackToList}
                                </button>
                                 <button  ng-if="settingsFilterOverlay.show && templateData.templateId" class="slds-button slds-button--neutral" ng-click="$hide(); hideProperties(); settingsFilterOverlay.show = false">
                                 {!$label.CLMTemplateBackToSection}
                                 </button>
                                <button class="slds-button slds-button--neutral" ng-init="getTemplateStatus()" ng-click="editTemplateProperties()" ng-if="!settingsFilterOverlay.show">
                                    <span ng-if="!templateActive">{!$label.CLMTemplateEdit}</span><span ng-if="templateActive">{!$label.CLMTemplateViewSettings}</span>
                                </button>
                                 <button  ng-if="!templateActive && templateData.templateId" type="button" class="slds-button slds-button--neutral" ng-hide="templateArchived" ng-click="templateData.templateActive = true; saveTemplate(checkUniqueName);" ng-disabled="saveAllSectionsBtn.text === 'Save All Sections'">
                                    {!$label.CLMTemplateActivate}
                                </button>
                                <button  ng-if="templateActive && !templateArchived" type="button" class="slds-button slds-button--neutral" ng-click="deactivateTemplate(templateData)">
                                    {{modalLabels.CLMTemplateDeactivateTemplate}}
                                </button>
                                <button ng-if="!templateActive && !cloningTemplate && templateData.templateId  && !settingsFilterOverlay.show" class="slds-button slds-button--neutral" ng-click="saveAllSections(true)" ng-disabled="saveAllSectionsBtn.text === 'All Sections Saved'" type="button">
                                    <span ng-if="saveAllSectionsBtn.text === 'All Sections Saved'">{!$label.CLMTemplateAllSectionsSaved}</span><span ng-if="saveAllSectionsBtn.text !== 'All Sections Saved'">{!$label.CLMTemplateSaveAllSections}</span>
                                </button>
                                <button class="slds-button slds-button--neutral"  ng-class="{'active': showTemplates}" ng-if="!templateData.templateId && !cloningTemplate" ng-click="showSavedTemplates()">{!$Label.CLMTemplateCloneExistingTemplate}</button>
                                <button ng-if="cloningTemplate" type="button" class="slds-button slds-button--neutral" ng-click="refresh()">{{modalLabels.CLMTemplateClearClone}}</button>
                                 <button ng-if="!settingsFilterOverlay.show && !templateActive" class="slds-button slds-button--icon-border-filled" aria-haspopup="true" title="Show More" ng-click="showDropDown()">
                                     <slds-svg-icon id="drop-down-icon" sprite="'utility'" icon="'down'" size="'x-small'" style="fill: rgb(84, 105, 141)"></slds-svg-icon>
                                  </button>
                                  <button ng-if="(templateActive && templateData.templateId) || (settingsFilterOverlay.show && templateData.templateId)"  class="slds-button slds-button--neutral" ng-click="deleteTemplate(templateData)"><span class="slds-truncate">{{modalLabels.CLMTemplateDeleteTemplate}}</span></button>
                                  <div class="slds-dropdown slds-dropdown--right ng-scope slds-m-top--x-large slds-m-right--large" ng-if="showMore && !settingsFilterOverlay.show">
                                    <ul class="slds-dropdown__list" role="menu">
                                      <li class="slds-dropdown__item" role="presentation" ng-if="templateData.templateId">
                                         <a  role="menuitem" ng-hide="templateArchived" ng-click="deleteTemplate(templateData)"><span class="slds-truncate">{{modalLabels.CLMTemplateDeleteTemplate}}</span></a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-if="validationMessage" class="slds-notify_container custom">
                    <div class="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture" role="alert">
                        <i class="contract-icon icon icon-v-close-circle" ng-click="closeSuccessBanner()"></i>
                        <h2>{{validationMessage}}</h2>
                    </div>
                </div>
                <div ng-if="validationErrorMessage" class="slds-notify_container custom">
                    <div class="slds-notify slds-notify--alert slds-theme--error slds-theme--alert-texture" role="alert">
                        <i class="contract-icon icon icon-v-close-circle" ng-click="closeSuccessBanner()"></i>
                        <h2>{{validationErrorMessage}}</h2>
                    </div>
                </div>
                <div class="three-col-body center-collapsed" ng-init="collapseCenter = true" ng-class="{'center-collapsed': collapseCenter}">
                    <div class="left-col template" ng-if="!cloningTemplate">
                        <div class="col-body template">
                            <div class="body-header slds-has-divider--bottom">
                                <p class="slds-text-heading--label col-header-text">{!$label.CLMTemplateDocumentSections}</p>
                            </div>
                            <ul class="new-buttons-container">
                                <li ng-class="{'active': newSection}" ng-if="templateData.templateId && !templateActive">
                                    <a class="new-section-btn" ng-click="addNewSection()">{!$label.CLMTemplateAddNewSection}<i class="contract-icon icon icon-v-right-caret"></i></a>
                                </li>
                            </ul>
                            <ul ng-if="templateData.sections.length" class="existing-data draggable-items" dnd-list="templateData.sections" dnd-dragover="startDragging(event)">
                                <li ng-repeat="section in templateData.sections" ng-click="showSectionData(section.sectionType, section.sectionSequence)" class="template-{{statusClass}}" ng-class="{'active': section.sectionSequence === currentSectionSequence, 'dnd-disabled': templateActive || !validationErrors.sections[section.sectionSequence].sectionSaved}" dnd-draggable="section" dnd-effect-allowed="move" dnd-moved="reorderSequences($index, event)" dnd-disable-if="templateActive || !validationErrors.sections[section.sectionSequence].sectionSaved" add-hover-class="true">
                                    <i class="icon icon-v-grip" add-hover-class="true"></i>
                                    <span class="data-name slds-truncate">{{section.sectionName}}</span>
                                    <span class="data-type">{{section.sectionTypeLabel}}</span>
                                    <span class="slds-icon_container section-errors-icon" title="{!$label.CLMTemplateSectionErrorsExist}" ng-if="validationErrors.sections[section.sectionSequence].sectionErrors" bs-tooltip="sectionErrorsExist" data-placement="left">
                                        <slds-svg-icon id="section-errors-icon" sprite="'utility'" icon="'error'" size="'small'"></slds-svg-icon>
                                        <span class="slds-assistive-text">{!$label.CLMTemplateSectionErrorsExist}</span>
                                    </span>
                                    <span class="slds-icon_container section-not-saved-icon" title="{!$label.CLMTemplateSectionNotSaved}" ng-if="!validationErrors.sections[section.sectionSequence].sectionSaved" bs-tooltip="'Section Not Saved'" data-placement="left">
                                        <slds-svg-icon id="section-not-saved-icon" sprite="'utility'" icon="'warning'" size="'small'"></slds-svg-icon>
                                        <span class="slds-assistive-text">{!$label.CLMTemplateSectionNotSaved}</span>
                                    </span>
                                    <!--   TO DO !!!! Tool Tip!-->
                                    <div style="display: none;" class="slds-popover slds-popover--tooltip slds-nubbin--bottom" role="tooltip">
                                      <slds-button-svg-icon id="warning-btn" sprite="'utility'" icon="'warning'" size="'small'" extra-classes="'slds-button__icon--left'"></slds-button-svg-icon>
                                        <div class="slds-popover__body">{!$label.CLMTemplateSectionNotSaved}</div>
                                    </div>
                                    <span class="contract-icon sequence">{{section.sectionSequence+1}}</span>
                                    <i class="contract-icon icon icon-v-right-caret"></i>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="center-col collapsed" ng-class="{'collapsed': collapseCenter}">
                        <div class="col-body">
                            <div class="body-header slds-has-divider--bottom">
                                <p class="slds-text-heading--label col-header-text">{{centerHeader}}</p>
                            </div>
                            <ul class="new-buttons-container section-types" ng-if="newSection">
                                <li ng-repeat="sectionType in sectionTypes" ng-if="sectionType.Value !== 'Conditional'" ng-class="(sectionType.Value === 'Clause' && subCenterType === 'Clause') || (sectionType.Value === 'Embedded Template' && subCenterType === 'Embedded Template') ? 'active' : ''">
                                    <a ng-click="addSectionType(sectionType.Value, templateData.sections.length, templateData.templateId)">{{sectionType.Label}}<i class="contract-icon icon" ng-class="sectionType.Value === 'Clause' || sectionType.Value === 'Embedded Template' ? 'icon-v-right-caret' : 'icon-v-plus'"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="sub-center-col collapsed" ng-class="{'collapsed': collapseSubCenter}">
                        <div class="col-body">
                            <div class="clauses-wrapper" ng-if="subCenterType === 'Clause'">
                                <div class="body-header slds-has-divider--bottom">
                                    <p class="slds-text-heading--label col-header-text">{!$label.CLMTemplateChooseClause}</p>
                                </div>
                                <div ng-if="genericClauses.length === 0" class="alert alert-warning" role="alert">{!$label.CLMTemplateNoGenericClause}</div>
                                <ul class="existing-data generic-clauses">
                                    <li class="search">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--left">
                                                <slds-input-svg-icon sprite="'utility'" icon="'search'" size="'small'" extra-classes="'slds-icon-text-default'"></slds-input-svg-icon>
                                                <input id="search-clauses" type="search" class="slds-input" ng-model="clauseFilter" placeholder="{!$label.CLMTemplateSearchClauses}"/>
                                            </div>
                                        </div>
                                    </li>
                                    <li ng-repeat="clause in filteredClauses | filter:clauseFilter" ng-click="addClauseSection(clause, templateData.sections.length, templateData.templateId)">
                                        <span class="data-name slds-truncate">{{clause.Name}}</span>
                                        <span class="data-type">{{clause[nameSpacePrefix + 'Category__c']}}</span>
                                        <i class="contract-icon icon icon-v-plus"></i>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div ng-if="subCenterType === 'Embedded Template'" ng-init="getAllTemplates()">
                            <div class="body-header slds-has-divider--bottom">
                                <p class="slds-text-heading--label col-header-text">{!$label.CLMTemplateEmbedTemplate}</p>
                            </div>
                            <ul class="existing-data existing-templates">
                                <li class="search">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--left">
                                            <slds-input-svg-icon sprite="'utility'" icon="'search'" size="'small'" extra-classes="'slds-icon-text-default'"></slds-input-svg-icon>
                                            <input id="search-template" type="search" class="slds-input" ng-model="templateFilterText.input" placeholder="{!$label.CLMTemplateSearchTempaltes}"/>
                                        </div>
                                    </div>
                                    <!-- <a class="advanced-search-link" ng-click="advanceSearch()">Advanced Search</a> -->
                                </li>
                                <li ng-repeat="obj in filteredTemplates | filter:templateFilter| orderBy:'template.Name'" ng-if="validateEmbeddedTemplate(obj.template)" ng-click="embedTemplateSection(obj.template, obj.sections, templateData.templateId, templateData.sections.length)">
                                    <span class="data-name slds-truncate">{{obj.template.Name}}</span>
                                    <span class="data-type">{!$label.CLMTemplateVersion} {{obj.template[nameSpacePrefix + 'VersionNumber__c']}}</span>
                                    <i class="contract-icon icon icon-v-plus" data-placement="left"></i>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="right-col">
                        <div ng-if="templateDeactivateErrorMsg" class="slds-notify slds-notify--alert slds-theme--error slds-theme--alert-texture" role="alert" ng-bind-html="templateDeactivateErrorMsg" ng-click="clearTemplateDeactivateErrorMsg()">
                        </div>  
                        <div class="col-body template-details">  
                            <div ng-if="currentSectionSequence === null && templateData.sections.length === 0 && !search" class="slds-page-header__title slds-p-around--small slds-m-top--x-large slds-text-align--center">
                                 {!$label.CLMTemplateNoSectionsTemplate}
                                  <div ng-if="templateData.templateId" class="slds-form-element__label slds-size--1-of-1">
                                      {!$label.CLMTemplateClickAddNewSection}
                                  </div>
                                  <div ng-if="!templateData.templateId" class="slds-form-element__label slds-size--1-of-1">{!$label.CLMTemplateCreateNewTemplateSetting}</div>
                            </div>                          
                            <!-- Section Form -->                        
                            <check-section-saved class="section-form" ng-repeat="section in templateData.sections" ng-if="section.sectionShown" ng-class="{'active-section': section.sectionSequence === currentSectionSequence}" ng-show="section.sectionSequence === currentSectionSequence" doc-section="section" doc-template-is-active="templateData.templateActive" validation-errors="validationErrors" btn-text="saveAllSectionsBtn">
                                <!-- Sections -->
                                <!-- <p ng-if="!validationErrors.sections[section.sectionSequence].sectionSaved">Section not yet Saved.</p> -->
                                <div ng-if="section.sectionType === 'Conditional' && !conditionalClauses" class="alert alert-warning" role="alert">
                                    {!$label.CLMTemplateNoConditionalClauseFound}
                                </div>
                                <div class="slds-form-element" ng-class="{'has-error': validationErrors.sections[section.sectionSequence].sectionName}">
                                    <div ng-if="!cloningTemplate" class="top-save-button">
                                        <button type="button" class="slds-button slds-button--brand" ng-click="saveTemplateSection(checkUniqueName, section.sectionSequence)" ng-disabled="validationErrors.sections[section.sectionSequence].sectionSaved" ng-if="!templateActive"><i class="icon icon-v-check-circle" ng-if="validationErrors.sections[section.sectionSequence].sectionSaved"></i>{{saveSectionBtn}}</button>
                                    </div>
                                    <div class="slds-form-element" ng-class="{'has-error': validationErrors.templateName}">
                                        <legend class="slds-form-element__legend slds-form-element__label template-name" for="section-name">{{fieldlabels.section.Name}}</legend>
                                            <div class="slds-form-element__control">
                                            <input id="section-name" class="slds-input slds-page-header__title name" type="text" ng-model="section.sectionName" ng-model-options="{ updateOn: 'keyup' }" placeholder="{!$label.CLMTemplateEnterTheSectionName}" ng-disabled="templateActive || cloningTemplate ? true : false" />
                                        </div>
                                        <span ng-if="validationErrors.sections[section.sectionSequence].sectionName" class="help-block" role="alert" aria-live="polite">{{validationErrors.sections[section.sectionSequence].sectionName}}</span>
                                    </div>
                                </div>
                                <div class="slds-form-element slds-m-bottom--small slds-grid slds-p-top--medium">
                                    <div class="slds-form-element" ng-class="{'slds-size--4-of-12': section.sectionType === 'Embedded Template', 'slds-size--3-of-12': section.sectionType !== 'Embedded Template'}">
                                        <legend for="template-type" class="slds-form-element__legend slds-form-element__label">{!$label.CLMTemplateSectionType}</legend>
                                        <div class="slds-form-element__control">
                                            <div class="slds-form-element__label">{{section.sectionTypeLabel}}</div>
                                        </div>
                                        <div class="slds-form-element__legend slds-form-element__label"
                                             ng-if="section.sectionType=='Embedded Template' && templateData.templateTemplateType == 'Object Based'">
                                            <legend class="slds-form-element__legend slds-form-element__label">{!$label.CLMTemplateSectionApplicableItemTypes} </legend>
                                            <div class="slds-form-element__control">
                                                <div class="slds-form-element__label">{{section.applicableItemTypes}}</div>
                                            </div>
                                        </div>
                                        <div ng-if="section.sectionType=='Embedded Template' && templateData.templateTemplateType == 'Object Based'">
                                            <legend class="slds-form-element__legend slds-form-element__label"> {!$label.CLMTemplateSectionApplicableLineItemTypes} </legend> 
                                            <div class="slds-form-element__control">
                                                <div class="slds-form-element__label">{{section.applicableLineItemTypes}}</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-form-element" ng-class="{'slds-size--5-of-12': section.sectionType === 'Embedded Template', 'slds-size--6-of-12': section.sectionType !== 'Embedded Template'}">
                                        <legend class="slds-form-element__label">{!$label.CLMTemplateSectionProperties}</legend>
                                        <div class="slds-form-element__control">
                                            <label ng-if="section.sectionType!='Item'" class="slds-checkbox inline-checkboxes applicable-types">
                                                <input  type="checkbox" ng-model="section.sectionIsRestricted" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false"/>
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'IsRestricted__c']}}</span>
                                            </label>
                                            <label class="slds-checkbox inline-checkboxes applicable-types">
                                                <input id="section-is-new-page" type="checkbox" ng-model="section.sectionIsNewPage" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false" /> 
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'IsInNewPage__c']}}</span>
                                             </label>
                                             <label class="slds-checkbox inline-checkboxes applicable-types">
                                                <input id="section-auto-name" type="checkbox" ng-model="section.sectionDisplayName" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false" /> 
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'DisplaySectionName__c']}}</span>
                                             </label>
                                             <label class="slds-checkbox inline-checkboxes applicable-item-types" ng-show="section.sectionDisplayName || section.sectionAutoNumber">
                                                <input id="section-auto-name" type="checkbox" ng-model="section.sectionDisplayHeaderInline" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false" />
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'DisplayHeaderInline__c']}}</span>
                                            </label>
                                            <label class="slds-checkbox inline-checkboxes applicable-item-types" ng-if="section.sectionType !='Embedded Template'">
                                                <input id="section-header-repeat" type="checkbox" ng-model="section.sectionTableHeaderRepeated" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false" />
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'IsWordTableHeaderRepeated__c']}}</span>
                                            </label>
                                            <label class="slds-checkbox inline-checkboxes applicable-item-types"
                                                   ng-if="section.sectionType =='Custom'">
                                                <input id="section-is-Batchable" type="checkbox"
                                                       ng-model="section.sectionIsBatchable"
                                                       ng-model-options="{ updateOn: 'click' }"
                                                       ng-disabled="templateActive || cloningTemplate ? true : false"/>
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fieldlabels.section[nameSpacePrefix + 'IsBatchProcessed__c']}}</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-size--3-of-12">
                                        <legend class="slds-form-element__label">{!$label.CLMTemplateSectionNumbering}</legend>
                                        <div class="slds-form-element__control">
                                            <label class="slds-checkbox inline-checkboxes applicable-item-types">
                                                <input id="section-auto-number" type="checkbox" ng-model="section.sectionAutoNumber" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false" />
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{!$label.CLMTemplateAutoNumber}</span>
                                            </label>
                                            <label class="slds-checkbox inline-checkboxes applicable-item-types">
                                                <input id="section-reset-auto-number" type="checkbox" ng-model="section.sectionResetAutoNumber" ng-model-options="{ updateOn: 'click' }" ng-disabled="templateActive || cloningTemplate ? true : false"/> 
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{!$label.CLMTemplateResetAutoNumber}</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- Embedded Template --> 
                                <div class="embedded-template-form" ng-if="section.sectionType=='Embedded Template'" ng-repeat="subSection in section.embeddedSections"> 
                                <!-- ngModel is optional -->
                                    <div class="panel-group" ng-model="panels.activePanel" role="tablist" aria-multiselectable="true" bs-collapse="true">
                                        <article class="slds-card slds-m-bottom--medium collapsed" ng-repeat="panel in panels" ng-init="cards[$index].cardCollapsed = true" ng-click="cards[$index].cardCollapsed = !cards[$index].cardCollapsed" ng-class="{'expanded': !cards[$index].cardCollapsed, 'collapsed': cards[$index].cardCollapsed}">
                                            <div class="slds-card__header slds-grid">
                                                <header class="slds-media slds-media--center slds-has-flexi-truncate">
                                                    <div class="slds-media__figure">
                                                        <slds-svg-icon id="section-card-{{$index}}" sprite="'standard'" icon="'contract'" size="'small'" extra-classes="'slds-icon-standard-contract'"></slds-svg-icon>
                                                    </div>
                                                    <div class="slds-media__body slds-truncate">
                                                        <h2>
                                                            <a href="javascript:void(0);" class="slds-text-link--reset">
                                                                <span class="slds-text-heading--small">{{section.sectionSequence + 1}}.{{subSection[nameSpacePrefix + 'Sequence__c'] + 1}}) {{subSection.Name}}</span>
                                                            </a>
                                                        </h2>
                                                    </div>
                                                </header>
                                            </div>
                                            <div class="slds-card__body">
                                                <div ng-if="subSection[nameSpacePrefix +'Type__c'] != 'Item' && subSection[nameSpacePrefix +'Type__c'] != 'Embedded Template'" class="card-body" ng-bind-html="subSection[nameSpacePrefix + 'SectionContent__c']"></div>
                                                <div ng-if="subSection[nameSpacePrefix +'Type__c'] == 'Item'" class="card-body">
                                                    <div class="item-container embedded-template item-column" ng-repeat="itemHeader in subSection.sectionLineItems">
                                                        <div class="item-cell header">{{itemHeader.columnHeader}}</div>
                                                        <div class="item-cell">{{itemHeader.columnToken}}</div>
                                                        <div class="item-cell totals-row">{{itemHeader.totalToken}}</div>
                                                    </div>
                                                </div>
                                                <div ng-if="subSection[nameSpacePrefix +'Type__c'] == 'Embedded Template'" class="card-body">
                                                    <label>{{subSection[nameSpacePrefix +'Type__c']}}</label>
                                                </div>
                                            </div>
                                            <div class="slds-card__footer"></div>
                                        </article>
                                    </div>
                                </div>
                                <!--Line Item Section Styling --> 
                                <div ng-if="section.sectionType=='Item'" class="level-styling slds-m-top--large">
                                    <label class="slds-form-element__label">{!$label.CLMTemplateConstructTable}</label> 
                                    <div class="level-styling item-styling slds-size--1-of-1">
                                        <div slds-tabs="sldsTabs" slds-active-pane="tabs.activeLevel" template="SldsTabsScoped.tpl.html">
                                            <div ng-repeat="displayStyle in section.sectionItemDisplayStyle" data-title="{{displayStyle.title}}" name="{{displayStyle.title}}" slds-pane="sldsPane" class="slds-clearfix slds-grid slds-wrap slds-grid--pull-padded">                  
                                                <div class="slds-grid slds-p-small slds-size--1-of-1">
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4">
                                                        <div class="slds-form-element level-font-family">
                                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-family">{{modalLabels.CLMTemplateFontFamily}}</label>
                                                            <div class="slds-form-element__control">
                                                                <div class="slds-select_container">
                                                                    <select class="slds-select" id="level-{{section.sectionSequence+1}}-{{$index+1}}-font-family" ng-model="displayStyle.styles[stylesLibrary.fontFamily[0].cssProperty]" ng-options="fontFamily.style as fontFamily.label for fontFamily in stylesLibrary.fontFamily" ng-disabled="templateActive || cloningTemplate"></select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4">
                                                        <div class="slds-form-element level-font-size">
                                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-size">{{modalLabels.CLMTemplateFontSize}}</label>
                                                            <div class="slds-form-element__control">
                                                                <div class="slds-select_container">
                                                                    <select class="slds-select" id="level-{{section.sectionSequence+1}}-{{$index+1}}-font-size" ng-model="displayStyle.styles[stylesLibrary.fontSize[0].cssProperty]" ng-options="fontSize.style as fontSize.label for fontSize in stylesLibrary.fontSize" ng-disabled="templateActive || cloningTemplate"></select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4">
                                                        <div class="slds-form-element level-font-color">
                                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-color">{{modalLabels.CLMTemplateFontColor}}</label>
                                                            <input type="text" class="slds-input" id="level-{{section.sectionSequence+1}}-{{$index+1}}-font-color" placeholder="{!$label.CLMTemplateRedHexColorCode}" ng-model="displayStyle.styles.color" ng-disabled="templateActive || cloningTemplate"/>
                                                        </div>
                                                    </div>
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4">
                                                        <div class="slds-form-element level-font-color">
                                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-color">{!$label.CLMTemplateFillColor}</label>
                                                            <input type="text" class="slds-input" id="level-{{section.sectionSequence+1}}-{{$index+1}}-background-color" placeholder="{!$label.CLMTemplateRedHexColorCode}" ng-model="displayStyle.styles[stylesLibrary.backgroundColor.cssProperty]" ng-disabled="templateActive || cloningTemplate"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-grid slds-p-around--small slds-size--1-of-1">
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4">
                                                        <label class="slds-form-element__label">{{modalLabels.CLMTemplateSelectAllFontFormatsToApply}}</label>
                                                        <div class="slds-form-element__control">
                                                            <label class="slds-checkbox" ng-repeat="fontFormat in stylesLibrary.fontFormat">
                                                                <input type="checkbox" ng-model="displayStyle.styles[fontFormat.cssProperty]" ng-true-value="'{{fontFormat.style}}'" ng-disabled="templateActive || cloningTemplate"/>
                                                                <span class="slds-checkbox--faux"></span>
                                                                <span class="slds-form-element__label">{{fontFormat.label}}</span>
                                                            </label>    
                                                        </div>
                                                    </div>
                                                    <div class="slsds-p-horizontal--small slds-size--1-of-4 slds-m-top--small">
                                                        <fieldset class="slds-form-element">
                                                            <label class="slds-form-element__label">{{modalLabels.CLMTemplateSelectTextAlignment}}</label>
                                                            <div class="slds-form-element__control" ng-repeat="textAlignment in stylesLibrary.textAlignment">
                                                                <span class="slds-radio">
                                                                    <label class="slds-radio__label" for="owner-{{$parent.$index}}-{{$index}}">
                                                                        <input type="radio" name="textAlignmentOptions-{{$parent.$index}}" id="owner-{{$parent.$index}}-{{$index}}" ng-model="displayStyle.styles[textAlignment.cssProperty]" ng-value="textAlignment.style" ng-disabled="templateActive || cloningTemplate"/>
                                                                        <span class="slds-radio--faux"></span>
                                                                        <span class="slds-form-element__label">{{textAlignment.label}}</span>
                                                                    </label>
                                                                </span>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                    <div class="slds-p-horizontal--small slds-size--1-of-4"> 
                                                        <div class="slds-form-element level-padding">
                                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-size">{!$label.CLMTemplateBorder}:</label>
                                                            <input type="text" class="slds-input" id="level-{{section.sectionSequence+1}}-{{$index+1}}-border" placeholder="i.e. 1px solid #FF0000" ng-model="displayStyle.styles[stylesLibrary.border.cssProperty]" ng-disabled="templateActive || cloningTemplate"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <label class="slds-form-element__label slds-m-top--medium">{!$label.CLMTemplateAllColumnsHeaderToken}</label>
                                    <!-- new line item section: --> 
                                    <div class="slds-form-element slds-m-bottom--medium" ng-if="section.sectionType=='Item'">
                                        <div class="item-binding slds-p-bottom--x-small slds-p-top--xx-small">
                                            <div class="item-container item-column" ng-click="makeItemHeaderEditable($index,section)" ng-repeat="itemHeader in section.sectionLineItems track by $index">
                                                <div class="item-cell with-data" ng-show="itemHeader.isEditable">
                                                    <input type="text" class="slds-input slds-p-vertical--none" ng-model="itemHeader.columnHeader" placeholder="{!$label.CLMTemplateEnterColumnHeader}"/>
                                                </div>
                                                <div class="item-cell with-data" ng-show="itemHeader.isEditable">
                                                    <input type="text" class="slds-input slds-p-vertical--none" ng-model="itemHeader.columnToken" placeholder="{!$label.CLMTemplateEnterColumnToken}"/>
                                                </div>
                                                <div class="item-cell with-data totals-row json-based-totals-row" ng-show="itemHeader.isEditable && templateData.templateTemplateType === 'JSON Based'">
                                                    <div class="slds-form-element">
                                                        <div class="slds-form-element__control">
                                                            <span class="slds-checkbox">
                                                                <input type="checkbox" name="options" id="item-total-checkbox-{{$index}}--{{$parent.$index}}" ng-model="itemHeader.totalToken" />
                                                                <label class="slds-checkbox__label" for="item-total-checkbox-{{$index}}--{{$parent.$index}}">
                                                                    <span class="slds-checkbox--faux"></span>
                                                                    <span class="slds-form-element__label">{!$label.CLMTemplateDisplayTotal}</span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="item-cell with-data totals-row object-based-totals-row" ng-show="itemHeader.isEditable && templateData.templateTemplateType === 'Object Based'">
                                                    <input type="text" class="slds-input slds-p-vertical--none" ng-model="itemHeader.totalToken" placeholder="{!$label.CLMTemplateEnterTotalToken}"/>
                                                </div>
                                                <div class="item-cell header" ng-show="!itemHeader.isEditable" ng-style="section.sectionItemDisplayStyle[0].styles"> {{itemHeader.columnHeader}}</div>
                                                <div class="item-cell" ng-show="!itemHeader.isEditable" ng-style="section.sectionItemDisplayStyle[1].styles">{{itemHeader.columnToken}}</div>
                                                <div class="item-cell totals-row" ng-show="!itemHeader.isEditable" ng-style="section.sectionItemDisplayStyle[2].styles">
                                                    {!$label.CLMTemplateDisplayTotal}: {{itemHeader.totalToken}}
                                                </div>
                                                <div class="slds-text-align--center slds-m-vertical--x-small">
                                                    <button ng-if="!templateActive && !cloningTemplate" type="button" class="slds-button slds-button--icon" ng-click="deleteFromItemHeader($index,section)">
                                                        <slds-svg-icon id="item-delete" sprite="'action'" icon="'delete'" size="'small'" style="fill: #54698d"></slds-svg-icon>
                                                    </button>
                                                </div>
                                            </div>
                                            <div ng-if="!templateActive && !cloningTemplate" class="item-container item-new">
                                                <a class="add-link" ng-click="addItemHeader(section)">
                                                    <i style="width:50px, height:50px" class="icon icon-v-plus"></i>
                                                    <label>{!$label.CLMTemplateAddColumn}</label>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-notify slds-notify--alert slds-theme--error slds-theme--alert-texture" ng-if="validationErrors.sections[section.sectionSequence].sectionLineItems">{{validationErrors.sections[section.sectionSequence].sectionLineItems}}</div>
                                <div class="slds-form-element section-tokens" ng-if="section.sectionType === 'Item'" ng-show="templateData.templateTemplateType === 'Object Based'" ng-class="{'token-mapping-readonly':templateActive,'has-error':validationErrors.sections[section.sectionSequence].sectionTokens}">
                                    <token-mapping applicable-types="templateData.templateApplicableItemTypes" section="section" token="section.sectionTokens" template-active="templateActive" template-tokens="templateTokens" template-data="templateData"></token-mapping>
                                    <span ng-if="validationErrors.sections[section.sectionSequence].sectionTokens" class="help-block">{{validationErrors.sections[section.sectionSequence].sectionTokens}}</span>
                                </div>
                                <!--End Line Item Section -->
                                <!--Custom Type -->
                                <div class="slds-form-element" ng-class="{'has-error': validationErrors.sections[section.sectionSequence].customClassError}" ng-if="section.sectionType=='Custom'">
                                    <div class="slds-form-element__control">
                                        <label class="slds-form-element__label slds-m-top--large slds-text-body--medium">{{fieldlabels.section[nameSpacePrefix + 'CustomClassName__c']}}</label>
                                        <div ng-hide="section.sectionIsBatchable"><p class="slds-text-body--small">{!$label.CLMTemplateApexClassImplementVlocityOpenInterface}</p></div>
                                        <div ng-show="section.sectionIsBatchable"><p class="slds-text-body--small">{!$label.CLMTemplateApexClassExtendDocTemplateMappingAbstractClass}</p></div>
                                        <input type="text" class="slds-input" ng-model="section.customClass" placeholder="{!$label.CLMTemplateEnterCustomClassName}" ng-disabled="templateActive || cloningTemplate ? true : false"/>
                                        <span ng-if="validationErrors.sections[section.sectionSequence].customClassError" class="help-block">{{validationErrors.sections[section.sectionSequence].customClassError}}</span>
                                    </div>
                                </div>

                                <!--End Custom Type -->
                                <div class="rich-text-editor" ng-class="{'has-warning':  validationErrors.sections[section.sectionSequence].sectionWarning.limitWarning, 'has-error': validationErrors.sections[section.sectionSequence].sectionContent}" ng-if="section.sectionType !== 'Conditional' && section.sectionType !== 'Item' && section.sectionType !== 'Embedded Template' && section.sectionType!=='Custom'">
                                    <legend class="slds-form-element__label"  for="section-content"> {{fieldlabels.section[nameSpacePrefix + 'SectionContent__c']}} {!$label.CLMTemplateToken}</legend>
                                    <textarea ui-tinymce="section.tinymceOptions" ng-model="section.sectionContent" ng-disabled="templateActive || cloningTemplate ? true : false" class="tinymce-editor"></textarea>
                                    <span ng-if="validationErrors.sections[section.sectionSequence].sectionContent" class="help-block">{{validationErrors.sections[section.sectionSequence].sectionContent}}</span>
                                    <span ng-if="validationErrors.sections[section.sectionSequence].sectionWarning.limitWarning" class="help-block">{{validationErrors.sections[section.sectionSequence].sectionWarning.limitWarning}}</span>
                                    <!-- <div><pre style="width: 780px">{{section.sectionTokens}}</pre></div> -->
                                </div>
                                <div class="slds-form-element section-tokens slds-m-top--small" ng-class="{'token-mapping-readonly':templateActive,'has-error':validationErrors.sections[section.sectionSequence].sectionTokens}" ng-if="section.sectionType !== 'Conditional' && section.sectionType !== 'Item' && section.sectionType !== 'Embedded Template' && section.sectionType !== 'Custom'" ng-show="templateData.templateTemplateType === 'Object Based'">
                                    <token-mapping applicable-types="templateData.templateApplicableTypes" section="section" token="section.sectionTokens" template-active="templateActive" template-tokens="templateTokens" template-data="templateData"></token-mapping>
                                    <span ng-if="validationErrors.sections[section.sectionSequence].sectionTokens" class="help-block">{{validationErrors.sections[section.sectionSequence].sectionTokens}}</span>
                                </div>
                                <!--JSON Based Expression Condition: -->
                                <div class="slds-tabs--default json-based-conditions-tabs-container" ng-if="templateData.templateTemplateType === 'JSON Based'">
                                    <ul class="slds-tabs--default__nav json-based-conditions-tabs-nav" role="tablist" ng-init="condition.section = true; condition.repeatable = false;">
                                        <li class="slds-tabs--default__item json-based-conditions-tabs-item slds-active" title="Item One" role="presentation" ng-click="condition.repeatable = false; condition.section = true;" ng-class="{'slds-active': condition.section && !condition.repeatable}">
                                            <a class="slds-tabs--default__link" href="javascript:void(0);" role="tab" tabindex="0" aria-selected="true" aria-controls="json-based-conditions-tabs-item-1" id="tab-default-1__item">{{labels.CLMTemplateConditionalJsonSectionTabLabel}}</a>
                                        </li>
                                        <li class="slds-tabs--default__item json-based-conditions-tabs-item" title="Item One" role="presentation" ng-click="condition.repeatable = true; condition.section = false;" ng-class="{'slds-active': condition.repeatable}" ng-if="section.sectionType === 'Repeating Content' || section.sectionType === 'Item'">
                                            <a class="slds-tabs--default__link" href="javascript:void(0);" role="tab" tabindex="0" aria-selected="true" aria-controls="json-based-conditions-tabs-item-2" id="tab-default-1__item">{{labels.CLMTemplateConditionalJsonRepeatableTabLabel}}</a>
                                        </li>
                                    </ul>
                                    <div id="json-based-conditions-tabs-item-1" class="slds-tabs--default__content json-based-conditions-tab-content slds-show" role="tabpanel" aria-labelledby="tab-default-1__item" ng-class="{'slds-show': condition.section && !condition.repeatable, 'slds-hide': condition.repeatable}">
                                        <div class="control-label json-based-conditions" data-title="Product Filter" name="Select Products">
                                            <div class="section-conditions">
                                                <div class="slds-form-element">
                                                    <label class="slds-form-element__label" for="json-expression-builder-{{$index}}" ng-bind-html="labels.CLMTemplateConditionalJson"></label>
                                                    <div class="slds-form-element__control">
                                                        <input mentio="true" mentio-id="'json-expression-builder-' + $index" type="text" id="json-expression-builder-{{$index}}" class="slds-input" ng-trim="false" placeholder="{{labels.CLMTemplateConditionalJsonPlaceholder}}" ng-model="section.sectionJsonExpression" ng-disabled="templateActive || cloningTemplate" />
                                                        <mentio-menu
                                                            mentio-for="'json-expression-builder-' + $index"
                                                            mentio-trigger-char="'@'"
                                                            mentio-template-url="mentio-slds-template.tpl.html"
                                                            mentio-items="mentioTokens"
                                                            mentio-search="searchTokenList(term, templateTokens.formatted)"
                                                            mentio-select="getTokenTextRaw(item)">
                                                        </mentio-menu>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="json-based-conditions-tabs-item-2" class="slds-tabs--default__content json-based-conditions-tab-content slds-hide" role="tabpanel" aria-labelledby="tab-default-1__item" ng-class="{'slds-show': condition.repeatable && !condition.section, 'slds-hide': condition.section}" ng-if="section.sectionType === 'Repeating Content' || section.sectionType === 'Item'">
                                        <div class="control-label json-based-conditions" data-title="Product Filter" name="Select Products">
                                            <div class="section-conditions">
                                                <div class="slds-form-element">
                                                    <label class="slds-form-element__label" for="json-expression-builder-repeatable-{{$index}}" ng-bind-html="labels.CLMTemplateConditionalJsonRepeatable"></label>
                                                    <div class="slds-form-element__control">
                                                        <input mentio="true" mentio-id="'json-expression-builder-repeatable-' + $index" type="text" id="json-expression-builder-repeatable-{{$index}}" class="slds-input" ng-trim="false" placeholder="{{labels.CLMTemplateConditionalJsonPlaceholder}}" ng-model="section.sectionJsonRepeatable" ng-disabled="templateActive || cloningTemplate" />
                                                        <mentio-menu
                                                            mentio-for="'json-expression-builder-repeatable-' + $index"
                                                            mentio-trigger-char="'@'"
                                                            mentio-template-url="mentio-slds-template.tpl.html"
                                                            mentio-items="mentioTokens"
                                                            mentio-search="searchTokenList(term, section.sectionTokensFormatted)"
                                                            mentio-select="getTokenTextRaw(item)">
                                                        </mentio-menu>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--Basic Conditions: -->
                                <div ng-if="section.sectionConditionType === 'Basic'" class="control-label basic-conditions" data-title="Product Filter" name="Select Products" ng-hide="(templateActive || cloningTemplate) && section.sectionProducts.length === 0 || templateData.templateTemplateType === 'JSON Based'">
                                    <div class="section-conditions">
                                        <label class="slds-form-element__label">{!$label.CLMTemplateConditionalProducts}</label>
                                        <a class="advanced-entity-filters" ng-if="!templateActive && !cloningTemplate" ng-click="entityFilter.showOverlay(section, applicableItemTypes); applicableItemTypes.activeType = applicableItemTypes[0].Label" ng-hide="templateActive || cloningTemplate ? true : false"><i class="icon icon-v-filter"></i>{!$label.CLMTemplateAdvEntityFilters}</a>
                                        <tags-input ng-model="section.sectionProducts" 
                                                min-length="1" 
                                                placeholder="{!$label.CLMTemplateSearchAvailProducts}"
                                                on-tag-added="addProduct($tag, section.sectionProducts)" 
                                                on-tag-removed="removeProduct($tag, section.sectionProducts)" 
                                                add-From-Autocomplete-Only="true" 
                                                replace-spaces-with-dashes="false" 
                                                allow-Duplicates="false" 
                                                show-tag="true"
                                                ng-class="templateActive || cloningTemplate ? 'toolbar-readonly' : ''">
                                            <auto-complete source="searchProductList($query)" max-results-to-show="10" min-length="1"></auto-complete>
                                        </tags-input>
                                    </div>
                                </div>
                                <!--Advanced Conditions: -->
                                <div ng-if="section.sectionConditionType === 'Advanced'" ng-show="templateData.templateTemplateType === 'Object Based'" class="control-label advanced-conditions" data-title="Entity Filter" name="Entity Filter">
                                    <div class="section-conditions" ng-class="{'has-error': validationErrors.sections[section.sectionSequence].entityFilterError}">
                                        <label class="slds-form-element__label">{!$label.CLMTemplateEntityConditionalFilters} </label>
                                        <a class="advanced-entity-filters" ng-if="!templateActive && !cloningTemplate" ng-click="applicableItemTypes.activeType = applicableItemTypes[0].Label; entityFilter.showOverlay(section, applicableItemTypes)" ng-hide="templateActive || cloningTemplate ? true : false"><i class="icon icon-v-filter"></i>{!$label.CLMTemplateEditAdvEntityFilters}</a>
                                        <div class="tags">
                                            <ul class="tag-list">
                                                <li class="tag-item" ng-repeat="applicableItemType in applicableItemTypes" ng-if="section.sectionEntityFilters[applicableItemType.Label].Name">
                                                    <span class="display-text">{{applicableItemType.Label}}: {{section.sectionEntityFilters[applicableItemType.Label].Name}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                        <a class="back-to-basic" ng-click="entityFilter.switchBackToBasic(section); saveTemplateSection(checkUniqueName, section.sectionSequence)" ng-hide="templateActive || cloningTemplate ? true : false"><i class="icon icon-v-forward"></i>{!$label.CLMTemplateBasicProductFilters}</a>
                                        <span ng-if="validationErrors.sections[section.sectionSequence].entityFilterError" class="help-block">{{validationErrors.sections[section.sectionSequence].entityFilterError}}</span>
                                    </div>
                                </div>
                                <div ng-if="!cloningTemplate" class="section-buttons-container slds-m-top--large slds-p-bottom--xx-large slds-clearfix">
                                    <button type="button" class="slds-button slds-button--brand slds-float--right" ng-click="saveTemplateSection(checkUniqueName, section.sectionSequence)" ng-disabled="validationErrors.sections[section.sectionSequence].sectionSaved" ng-if="!templateActive"><i class="icon icon-v-check-circle" ng-if="validationErrors.sections[section.sectionSequence].sectionSaved"></i>{{saveSectionBtn}}</button>
                                    <button type="button" class="slds-button slds-float--right slds-m-right--medium delete-template-section" ng-click="checkDeleteSection()" ng-if="!templateActive">{{deleteSectionBtn}}</button>
                                </div>
                                <div class="entity-filter-overlay" ng-class="{'show-overlay': entityFilterOverlay.show, 'hide-overlay': !entityFilterOverlay.show}">
                                    <div class="container">
                                        <div ng-if="!validateEntityFilters">
                                            <button class="slds-button slds-button--icon close-entity-filter-overlay" ng-if="entityFilter.checkEntityFilters(section) < 1" type="button" ng-click="entityFilterOverlay.show = !entityFilterOverlay.show">
                                                <slds-button-svg-icon id="close-entity-filter-overlay" sprite="'utility'" icon="'close'" size="'large'"></slds-button-svg-icon>
                                                <span class="slds-assistive-text">{!$label.CLMTemplateBackToSection}</span>
                                            </button>
                                        </div>
                                        <div ng-if="validateEntityFilters">
                                             <button type="button" class="slds-button slds-button--icon close-entity-filter-overlay" ng-click="entityFilter.closeWithOutSaving(applicableItemTypes, entityFilterOverlay, section)"></button>
                                        </div>
                                        <div class="slds-notify slds-notify--alert slds-theme--error slds-theme--alert-texture" ng-if="validateEntityFilters" style="top: -8px;">
                                            <i class="contract-icon icon icon-v-close-circle slds-float--right slds-m-right--medium" ng-click="clearvalidateEntityFilters()" style="float:right;font-size: 22px;"></i>
                                           <slds-button-svg-icon id="warning-btn" sprite="'utility'" icon="'warning'" size="'small'" extra-classes="'slds-button__icon--left'"></slds-button-svg-icon>
                                           {!$label.CLMTemplateErrorEmptyFilters} {{validateEntityFilters}}
                                        </div>
                                        <div slds-active-pane="entityFilter.documentApplicableItemTypes[0].Value" slds-tabs="true" via-screen-height="viaScreenHeight">
                                            <div ng-repeat="applicableItemType in entityFilter.documentApplicableItemTypes" data-title="{{applicableItemType.Label}}" name="{{applicableItemType.Value}}" slds-pane="true" class="applicable-type-tab">
                                                <div class="slds-form--compound entity-filter-form">
                                                    <h3 class="slds-section__title slds-m-bottom--medium" ng-hide="section.sectionEntityFilters[applicableItemType.Label].Id">{!$label.CLMTemplateEnterSelectCreateEntityFilterName}</h3>
                                                    <div class="slds-form-element__group">
                                                        <div class="slds-form-element__row">
                                                            <div class="slds-size--4-of-12 slds-m-right--small">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" for="section-entity-filter-name-{{$parent.$index}}-{{$index}}">{!$label.CLMTemplateEntityFilterName}</label>
                                                                    <input type="text" class="slds-input" ng-model="section.sectionEntityFilters[applicableItemType.Label].Name" id="section-entity-filter-name-{{$parent.$index}}-{{$index}}"/>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--4-of-12 slds-m-horizontal--small" ng-show="section.sectionEntityFilters[applicableItemType.Label].Id">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" for="section-entity-filter-formula-{{$parent.$index}}-{{$index}}">{!$label.CLMTemplateEntityFilterFormula}</label>
                                                                    <input type="text" class="slds-input" ng-model="section.sectionEntityFilters[applicableItemType.Label].Formula" ng-model-options="{ updateOn: 'keyup' }" id="section-entity-filter-formula-{{$parent.$index}}-{{$index}}"/>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--2-of-12 slds-m-horizontal--small" ng-hide="section.sectionEntityFilters[applicableItemType.Label].Id">
                                                                <div class="slds-form-element">
                                                                    <button type="button" class="slds-button slds-button--brand create-filter" ng-click="entityFilter.createEntityFilter(section.sectionEntityFilters[applicableItemType.Label], section.sectionEntityFilters[applicableItemType.Label].Name, applicableItemType)" ng-disabled="entityFilter.btnDisabled">{!$label.CLMTemplateCreateFilter}</button>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--6-of-12 slds-m-left--small" ng-hide="section.sectionEntityFilters[applicableItemType.Label].Id" ng-if="entityFilter.countFiltersForType(applicableItemType)">
                                                                <div class="slds-form-element select-filter">
                                                                    <label class="slds-form-element__label" for="section-entity-filter-select-{{$parent.$index}}-{{$index}}">{!$label.CLMTemplateSelectExistingEntityFilter}</label>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-select_container">
                                                                            <select class="slds-select" id="section-entity-filter-select-{{$parent.$index}}-{{$index}}" ng-model="entityFilter.selectModel[applicableItemType.Label]" ng-options="(value.FilterOnObjectName + ': ' + value.Name) for value in $root.entityFilters | filter: {FilterOnObjectName : applicableItemType.Label}" ng-change="entityFilter.attachExistingFilter(section, applicableItemType, entityFilter.selectModel[applicableItemType.Label])"></select>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--3-of-12 slds-m-left--small" ng-show="section.sectionEntityFilters[applicableItemType.Label].Id">
                                                                <div class="slds-form-element">
                                                                    <button type="button" class="slds-button slds-button--destructive" ng-click="entityFilter.removeEntityFilter(section, applicableItemType.Label)">{!$label.CLMTemplateRemoveEntityFilter}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <iframe ng-if="section.sectionEntityFilters[applicableItemType.Label].url !== undefined" scrolling="yes" name="EntityFilterReference" ng-src="{{section.sectionEntityFilters[applicableItemType.Label].url}}" width="100%" class="entity-filter-iframe" id="entity-filter-{{applicableItemType.Label}}"></iframe>
                                            </div>
                                        </div>
                                        <div class="bottom-controls">
                                            <button ng-if="entityFilter.checkEntityFilters(section) < 1" type="button" class="btn btn-primary pull-right" ng-click="entityFilterOverlay.show = !entityFilterOverlay.show">{!$label.CLMTemplateBackToSection}</button>
                                            <button ng-if="entityFilter.checkEntityFilters(section) > 0" type="button" class="btn btn-primary pull-right" ng-click="entityFilter.backToSection(applicableItemTypes, entityFilterOverlay, section)">{!$label.CLMTemplateBackToSection}</button>
                                        </div>
                                    </div>
                                </div>
                            </check-section-saved>
<!-- Template Properties --> 
<div class="entity-filter-overlay" ng-class="{'show-overlay': settingsFilterOverlay.show, 'hide-overlay': !settingsFilterOverlay.show}">
    <div class="slds-m-horizontal--medium">
        <div class="slds-grid">  
            <div class="slds-size--1-of-4 cloning slds-has-dividers--right" ng-class="{'collpased': !cloningTemplate}" ng-if="cloningTemplate" via-screen-height="viaScreenHeight">
                <div class="body-header slds-has-divider--bottom">
                    <p class="slds-text-heading--label col-header-text">{{centerHeader}}</p>
                </div>
                <div class="cloning-template-container" ng-class="{'advanced-searching': search}">
                    <ul class="slds-p-horizontal--medium slds-p-top--medium slds-has-dividers--bottom">
                        <li class="search">
                            <div class="slds-form-element">
                                <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--left">
                                    <slds-input-svg-icon sprite="'utility'" icon="'search'" size="'small'" extra-classes="'slds-icon-text-default'"></slds-input-svg-icon>
                                    <input id="search-template" type="search" class="slds-input" ng-model="templateFilterText.input" placeholder="{!$label.CLMTemplateSearchTempaltes}"/>
                                </div>
                            </div>
                            <!-- <a class="advanced-search-link" ng-click="advanceSearch()">Advanced Search</a> -->
                        </li>
                    </ul>
                    <ul class="slds-form-element">
                        <li class="cloning-cell slds-has-divder--botom" ng-repeat="obj in templates | filter:templateFilter | orderBy:'template.Name'" ng-click="getSectionsForTemplate(obj.template, obj.sections)">
                            <div class=" slds-truncate">{{obj.template.Name}}</div>
                            <div class="slds-text-body--small">{!$label.CLMTemplateVersion} {{obj.template[nameSpacePrefix + 'VersionNumber__c']}}</div>
                            <i class="contract-icon icon icon-v-copy slds-float--right" bs-tooltip="copyTemplateTooltip(obj.template.Name)" data-placement="left"></i>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="slds-p-horizontal--small slds-size--1-of-3 slds-m-right--small"  ng-class="{'slds-size--1-of-4': cloningTemplate}">
                <button class="slds-button slds-button--icon-inverse slds-modal__close" ng-click="$hide(); hideProperties()">
                    <slds-svg-icon id="clause-page-header_icon" sprite="'action'" icon="'close'" size="'medium'"></slds-svg-icon>
                    <span class="slds-assistive-text">{{modalLabels.CLMClauseClose}}</span>
                </button>
                <h2 class="slds-text-heading--medium slds-p-vertical--small">
                    {!$label.CLMTemplateTemplateSettings}
                </h2>  
                <check-template-saved class="slds-grid slds-wrap slds-grid--pull-padded template-properties slds-margin-top--medium" doc-template="templateData" template-saved="templateSaved" template-clone="cloningTemplate">
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small" ng-class="{'has-error': validationErrors.templateName}">
                        <div ng-if="validationErrors.templateName" class="slds-popover slds-theme--error vloc-template-details-error vloc-template-name-error" role="alert" aria-live="polite">
                            <div class="slds-popover__body slds-text-longform">
                                <p>{{validationErrors.templateName}}</p>
                            </div>
                        </div>
                        <label class="slds-form-element__label" for="template-name">
                            <abbr class="slds-required" title="required">*</abbr>
                            {{fieldlabels.template.Name}}
                        </label>
                        <div class="slds-form-element__control">
                            <input id="template-name" class="slds-input" type="text" ng-model="templateData.templateName" placeholder="{!$label.CLMTemplateEnterTemplateName}" ng-disabled="templateActive" />
                        </div>
                    </div>
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small vloc-token-mapping-select">
                        <label class="slds-form-element__label" for="token-mapping-select">
                            <abbr class="slds-required" title="required">*</abbr>
                            {!$label.CLMTemplateTokenMapping}
                        </label>
                        <div class="slds-form-element__control">
                            <div class="slds-select_container">
                                <select id="token-mapping-select" class="slds-select" ng-options="item.label as item.label for item in templateTypeService.selectOptions" ng-model="templateData.templateTemplateType" ng-disabled="templateActive || templateData.templateVersion > 1" ng-change="warnTokenMappingChange()"></select>
                            </div>
                        </div>
                    </div>
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small vloc-usage-type-select">
                        <label class="slds-form-element__label" for="usage-type-select">{{labels.CLMTemplateUsageType}}</label>
                        <div class="slds-form-element__control">
                            <div class="slds-select_container">
                                <select id="usage-type-select" class="slds-select" ng-options="usageValue.Label as usageValue.Label for usageValue in templateData.usageValues" ng-model="templateData.usageType" ng-disabled="templateActive" ng-if="templateData.usageValues"></select>
                            </div>
                        </div>
                    </div>
                    <div class="slds-size--1-of-1 slds-is-relative slds-p-horizontal--small vloc-object-based-container" ng-if="templateData.templateTemplateType === 'Object Based'">
                        <div ng-if="validationErrors.templateApplicableTypes" class="slds-popover slds-theme--error vloc-template-details-error vloc-applicable-types-error" role="alert" aria-live="polite">
                            <div class="slds-popover__body slds-text-longform">
                                <p>{{validationErrors.templateApplicableTypes}}</p>
                            </div>
                        </div>
                        <div ng-if="validationErrors.templateApplicableItemTypes" class="slds-popover slds-theme--error vloc-template-details-error vloc-applicable-item-types-error" role="alert" aria-live="polite">
                            <div class="slds-popover__body slds-text-longform">
                                <p>{{validationErrors.templateApplicableItemTypes}}</p>
                            </div>
                        </div>
                        <div class="slds-clearfix slds-size--1-of-1">
                            <div class="slds-form-element slds-p-vertical--small slds-p-right--small slds-float--left" ng-class="{'has-error': validationErrors.templateApplicableTypes, 'slds-size--1-of-1': cloningTemplate, 'slds-size--1-of-2' : !cloningTemplate}">
                                <label class="slds-form-element__label">
                                    <abbr class="slds-required" title="required">*</abbr>
                                    {{fieldlabels.template[nameSpacePrefix + 'ApplicableTypes__c']}}
                                </label>
                                <div class="slds-form-element__control">
                                    <label class="slds-checkbox" ng-repeat="applicableType in applicableTypes">
                                      <input type="checkbox" ng-value="applicableType.Value" ng-model="templateData.templateApplicableTypesObj[applicableType.Value]" ng-disabled="templateActive"/>
                                      <span class="slds-checkbox--faux"></span>
                                      <span class="slds-form-element__label">{{applicableType.Label}}</span>
                                    </label>    
                                </div>
                            </div>
                            <div class="slds-form-element slds-p-vertical--small slds-p-left--small slds-float--left" ng-class="{'has-error': validationErrors.templateApplicableItemTypes, 'slds-size--1-of-1': cloningTemplate,'slds-size--1-of-2': !cloningTemplate }">
                                <div>
                                    <label class="slds-form-element__label">
                                        <abbr class="slds-required" title="required">*</abbr>
                                        {{fieldlabels.template[nameSpacePrefix + 'ApplicableItemTypes__c']}}
                                    </label>
                                </div>
                                <div class="slds-form-element__control">
                                    <label class="slds-checkbox" ng-repeat="applicableItemType in applicableItemTypes">
                                        <input type="checkbox" ng-value="applicableLineItemType.Value" ng-model="templateData.templateApplicableItemTypesObj[applicableItemType.Value]" ng-disabled="templateActive"/>
                                         <span class="slds-checkbox--faux"></span>
                                         <span class="slds-form-element__label">{{applicableItemType.Label}}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="slds-form-element slds-p-vertical--small slds-size--1-of-1" ng-show="trackRedlinesSetting">
                            <div ng-if="validationErrors.templateTrackRedlines" class="slds-popover slds-nubbin--bottom-left slds-theme--error" role="alert" aria-live="polite" style="top: 10px;width: auto;">
                                <div class="slds-popover__body slds-text-longform">
                                    <p>{{validationErrors.templateTrackRedlines}}</p>
                                </div>
                            </div>
                            <div class="slds-form-element inline-checkboxes track-redlines"> 
                                <label class="slds-form-element__label">{{fieldlabels.template[nameSpacePrefix + 'TrackContractRedlines__c']}}</label>
                                <div class="slds-form-element__control">
                                    <label class="slds-checkbox">
                                        <input type="checkbox" ng-model="templateData.templateTrackRedlines" ng-disabled="templateActive" />
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label">{!$label.CLMTemplateTrackRedlines}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="slds-form-element slds-p-vertical--small slds-size--1-of-1">
                            <div class="slds-form-element__control">
                                <label class="slds-form-element__label">{{fieldlabels.template[nameSpacePrefix + 'IsSignatureRequired__c']}}</label>
                                <label class="slds-checkbox">
                                    <input type="checkbox" ng-value="templateData.templateSignature" ng-model="templateData.templateSignature"  ng-disabled="templateActive"/>
                                    <span class="slds-checkbox--faux"></span>
                                    <span class="slds-form-element__label">{{modalLabels.CLMTemplateSignatureRequired}}</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small vloc-dataraptor-bundle-name-container" ng-if="templateData.templateTemplateType === 'JSON Based'" ng-class="{'has-error': validationErrors.dataRaptorBundleName}">
                        <div ng-if="validationErrors.dataRaptorBundleName" class="slds-popover slds-theme--error vloc-dataraptor-bundle-name-error vloc-template-details-error" role="alert" aria-live="polite">
                            <div class="slds-popover__body slds-text-longform">
                                <p>{{validationErrors.dataRaptorBundleName}}</p>
                            </div>
                        </div>
                        <label class="slds-form-element__label" for="dataraptor-bundle-name">
                            {{labels.CLMTemplateDRBundleName}}
                        </label>
                        <div class="slds-form-element__control">
                            <input type="text" id="dataraptor-bundle-name" class="slds-input slds-float--left" ng-model="templateData.dataRaptorBundleName" placeholder="{{labels.CLMTemplateDRBundleNamePlaceholder}}" ng-disabled="templateActive" ng-class="{'slds-size--11-of-12': templateData.drbundleId}" />
                            <span class="slds-icon_container slds-icon-utility-link slds-float--right slds-size--1-of-12 vloc-dr-link" title="{{labels.CLMTemplateDRBundleIconText}}" ng-hide="templateActive" ng-if="templateData.drbundleId" ng-click="goToDataRaptor(templateData.drbundleId)">
                                <slds-svg-icon sprite="'utility'" size="'x-small'" icon="'link'" extra-classes="'slds-icon-text-default'"></slds-svg-icon>
                                <span class="slds-assistive-text">{{labels.CLMTemplateDRBundleIconText}}</span>
                            </span>
                        </div>
                    </div>
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small vloc-data-extract-data-bundle-name-container" ng-if="templateData.templateTemplateType === 'JSON Based'">
                        <label class="slds-form-element__label" for="data-extract-data-bundle-name">{{labels.CLMTemplateDataExtractDataBundleName}}</label>
                        <div class="slds-form-element__control">
                            <input type="text" id="data-extract-data-bundle-name" class="slds-input" ng-model="templateData.dataExtractDataBundleName" placeholder="{{labels.CLMTemplateDataExtractDataBundleNamePlaceholder}}" ng-disabled="templateActive" ng-class="{'slds-size--11-of-12': templateData.dedrbundleId}" />
                            <span class="slds-icon_container slds-icon-utility-link slds-float--right slds-size--1-of-12 vloc-dr-link" title="{{labels.CLMTemplateDEDRBundleIconText}}" ng-hide="templateActive" ng-if="templateData.dedrbundleId" ng-click="goToDataRaptor(templateData.dedrbundleId)">
                                <slds-svg-icon sprite="'utility'" size="'x-small'" icon="'link'" extra-classes="'slds-icon-text-default'"></slds-svg-icon>
                                <span class="slds-assistive-text">{{labels.CLMTemplateDEDRBundleIconText}}</span>
                            </span>
                        </div>
                    </div>
                    <div class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small vloc-word-document-template-name-container" ng-if="templateData.templateTemplateType === 'JSON Based'">
                        <label class="slds-form-element__label slds-float--left" for="word-document-template-name">{{labels.CLMTemplateWordDocTemplateName}}</label>
                        <div class="slds-is-relative slds-float--left vloc-word-document-info-container">
                            <div class="slds-form-element__icon slds-m-top--xxx-small">
                                <a href="javascript:void(0);"
                                        slds-popover="true"
                                        data-container=".vloc-word-document-info-container"
                                        nubbin-direction="bottom-left"
                                        tooltip="true"
                                        data-title="Required if you need to generate a Word document from this Document Template.">
                                    <slds-svg-icon sprite="'utility'" size="'xx-small'" icon="'info'" extra-classes="'slds-icon-text-default'"></slds-svg-icon>
                                    <span class="slds-assistive-text">Help</span>
                                </a>
                            </div>
                        </div>
                        <div class="slds-form-element__control">
                            <input type="text" id="word-document-template-name" class="slds-input" ng-model="templateData.wordDocumentTemplateName" placeholder="{{labels.CLMTemplateWordDocTemplateNamePlaceholder}}" ng-disabled="templateActive" />
                        </div>
                    </div>

                    <div ng-if="templateData.templateTemplateType === 'JSON Based'" class="slds-form-element slds-size--1-of-1 slds-p-horizontal--small slds-p-vertical--xx-small checkbox-display-unmappedtokens">
                        <div class="slds-form-element__control">
                            <span class="slds-checkbox">
                              <input type="checkbox" name="options" id="checkbox-display-unmappedtokens"
                                     ng-model="templateData.displayUnmappedTokens"
                                     ng-disabled="templateActive || cloningTemplate ? true : false"/>
                              <label class="slds-checkbox__label" for="checkbox-display-unmappedtokens">
                                <span class="slds-checkbox--faux"></span>
                                <span class="slds-form-element__label">{{labels.CLMTemplateDisplayUnmappedTokens}}</span>
                              </label>
                            </span>
                        </div>
                    </div>

                    <!-- Row 3: Contract Type Tags --> 
                    <div ng-show="(templateData.templateTemplateType === 'Object Based' && templateData.templateApplicableTypesObj.Contract) || (templateData.templateTemplateType === 'JSON Based' && templateData.usageType === 'Contract')" class="slds-size--1-of-1 slds-p-horizontal--small">
                        <div class="slds-m-top--small" ng-if="templateData.isDefaultContractType" ng-class="{'hide-element': (templateData.templateTemplateType === 'Object Based' && !templateData.templateApplicableTypesObj.Contract) || (templateData.templateTemplateType === 'JSON Based' && templateData.usageType !== 'Contract')}">
                            <label class="slds-form-element__label">Restrict Template to Contract Types
                                <a class="switch" ng-click="switchToCustom()" ng-hide="templateActive || templateArchived"><i class="icon icon-v-filter"></i>{{modalLabels.CLMTemplateSpecifyContractTypes}}</a>
                                <div class="slds-form-element__control" ng-if="templateData.isDefaultContractType">
                                    <label class="slds-checkbox">
                                        <input ng-disabled="templateActive || templateArchived" id="clause-contract-type" type="checkbox" ng-model="templateData.isDefaultContractType" style="display:none"/>
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label">{{modalLabels.CLMTemplateAllContractTypes}}</span>
                                    </label>
                                </div>
                            </label>
                        </div>
                        <div ng-hide="(templateData.templateTemplateType === 'Object Based' && !templateData.templateApplicableTypesObj.Contract) || (templateData.templateTemplateType === 'JSON Based' && templateData.usageType !== 'Contract')" class="form-group contract-types slds-m-top--small" ng-if="!templateData.isDefaultContractType" ng-class="{'hide-element': (templateData.templateTemplateType === 'Object Based' && !templateData.templateApplicableTypesObj.Contract) || (templateData.templateTemplateType === 'JSON Based' && templateData.usageType !== 'Contract')}">
                            <label class="slds-form-element__label" for="clause-contract-type">
                                {!$label.CLMTemplateRestrictTemplateToContractTypes}
                                <a class="switch" ng-click="switchToDefault()" ng-hide="templateActive || templateArchived"><i class="icon icon-v-forward"></i>{{modalLabels.CLMTemplateSwitchToDefault}}</a>
                            </label>
                            <tags-input ng-model="selectedContractTypes" ng-class="templateActive || templateArchived ? 'toolbar-readonly' : ''" min-length="1" placeholder="{!$label.CLMTemplateSearchAvailProd}" on-tag-added="addContractType($tag)" on-tag-removed="removeContractType($tag)" add-From-Autocomplete-Only="true" replace-spaces-with-dashes="false" allow-Duplicates="false" show-tag="true">
                                <auto-complete source="searchContractTypeList($query)" max-results-to-show="10" min-length="1"></auto-complete>
                            </tags-input>
                        </div>
                    </div>
                </check-template-saved>
            </div>
            <div class="slds-size--2-of-3" ng-class="{'slds-size--2-of-4': cloningTemplate}">
                <!-- Row 4: Document Styles --> 
                <div class="slds-text-heading--medium slds-p-vertical--small slds-m-left--small">
                    {{modalLabels.CLMTemplateEditDocumentDefaultStyling}}
                </div>
                <div class="slds-grid slds-wrap slds-grid slds-size--1-of-1 slds-p-right--small">
                    <div class="slds-p-horizontal--small slds-size--1-of-1">
                        <div class="slds-form-element section-font-family">
                            <label class="slds-form-element__label" for="section-{{$index+1}}-font-family">{{modalLabels.CLMTemplateDefaultFontFamilyDocument}}</label>
                                <div class="slds-form-element__control">
                                    <div class="slds-select_container">
                                        <select class="slds-select" id="section-{{$index+1}}-font-family" ng-model="templateData.templateDocumentFontStyle" ng-options="fontFamily.style as fontFamily.label for fontFamily in stylesLibrary.fontFamily" ng-change="updateHeaderStyles()" ng-disabled="templateActive"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-p-horizontal--small slds-m-top--small slds-size--1-of-1">
                        <label class="slds-form-element__label">{{modalLabels.CLMTemplateDefineStyleEachSectionHeading}}</label>
                    </div>
                    <div class="slds-p-horizontal--small slds-size--1-of-1">
                     <div slds-tabs="sldsTabs" slds-active-pane="tabs.activeLevel" template="SldsTabsScoped.tpl.html">
                        <div ng-repeat="level in templateData.templateSectionHeaderDisplayStyleObj.headingLevels" data-title="{{level.title}}" name="{{level.title}}" slds-pane="sldsPane" class="slds-clearfix slds-grid slds-wrap slds-grid--pull-padded">
                            <div class="slds-theme--shade slds-p-around--small slds-m-horizontal--small" ng-style="level.styles">
                             <span class="slds-p-left--small">{{modalLabels.CLMTemplateSample}} {{level.title}} {{modalLabels.CLMTemplateText}}</span>
                            </div>
                            <div class="slds-size--1-of-1 slds-grid slds-m-top--small">
                                <div class="slds-p-horizontal--small slds-size--1-of-3">
                                    <div class="slds-form-element level-font-family">
                                        <label class="slds-form-element__label" for="level-{{$index+1}}-font-family">{{modalLabels.CLMTemplateFontFamily}}</label>
                                        <div class="slds-form-element__control">
                                            <div class="slds-select_container">
                                                <select class="slds-select" id="level-{{$index+1}}-font-family" ng-model="level.styles[stylesLibrary.fontFamily[0].cssProperty]" ng-options="fontFamily.style as fontFamily.label for fontFamily in stylesLibrary.fontFamily" ng-disabled="templateActive"></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-p-horizontal--small slds-size--1-of-3">
                                    <div class="slds-form-element level-font-size">
                                        <label class="slds-form-element__label" for="level-{{$index+1}}-font-size">{{modalLabels.CLMTemplateFontSize}}</label>
                                        <div class="slds-form-element__control">
                                            <div class="slds-select_container">
                                                <select class="slds-select" id="level-{{$index+1}}-font-size" ng-model="level.styles[stylesLibrary.fontSize[0].cssProperty]" ng-options="fontSize.style as fontSize.label for fontSize in stylesLibrary.fontSize" ng-disabled="templateActive"></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-p-horizontal--small slds-size--1-of-3">
                                    <div class="slds-form-element level-font-color">
                                        <label class="slds-form-element__label" for="level-{{$index+1}}-font-color">{{modalLabels.CLMTemplateFontColor}}</label>
                                        <input type="text" class="slds-input" id="level-{{$index+1}}-font-color" placeholder="{!$label.CLMTemplateRedHexColorCode}" ng-model="level.styles[stylesLibrary.fontColor.cssProperty]" ng-disabled="templateActive"/>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-size--1-of-1 slds-grid slds-m-top--small">
                                    <div class="slds-p-horizontal--small slds-size--1-of-3">
                                        <label class="slds-form-element__label">{{modalLabels.CLMTemplateSelectAllFontFormatsToApply}}</label>
                                        <div class="slds-form-element__control">
                                            <label class="slds-checkbox" ng-repeat="fontFormat in stylesLibrary.fontFormat">
                                                <input type="checkbox" ng-model="level.styles[fontFormat.cssProperty]" ng-true-value="'{{fontFormat.style}}'" ng-disabled="templateActive"/>
                                                <span class="slds-checkbox--faux"></span>
                                                <span class="slds-form-element__label">{{fontFormat.label}}</span>
                                            </label>    
                                        </div>
                                    </div>
                                    <div class="slds-p-horizontal--small slds-size--1-of-3">
                                        <fieldset class="slds-form-element">
                                            <label class="slds-form-element__label">{{modalLabels.CLMTemplateSelectTextAlignment}}</label>
                                            <div class="slds-form-element__control" ng-repeat="textAlignment in stylesLibrary.textAlignment">
                                                <span class="slds-radio">
                                                    <label class="slds-radio__label" for="owner-{{$parent.$index}}-{{$index}}">
                                                        <input type="radio"  name="textAlignmentOptions-{{$parent.$index}}" id="owner-{{$parent.$index}}-{{$index}}" value="{{textAlignment.style}}" ng-model="level.styles[textAlignment.cssProperty]"/>
                                                        <span class="slds-radio--faux"></span>
                                                        <span class="slds-form-element__label">{{textAlignment.label}}</span>
                                                    </label>
                                                </span>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="slds-p-horizontal--small slds-size--1-of-3"> 
                                        <div class="slds-form-element level-padding">
                                            <label class="slds-form-element__label" for="level-{{$index+1}}-font-size">{{modalLabels.CLMTemplateSelectIndentation}}</label>
                                            <div class="slds-form-element__control">
                                                <div class="slds-select_container">
                                                    <select class="slds-select" id="level-{{$index+1}}-padding" ng-model="level.styles[stylesLibrary.textPadding[0].cssProperty]" ng-options="textPadding.style as textPadding.label for textPadding in stylesLibrary.textPadding" ng-disabled="templateActive"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
<!-- -->

                            <!-- Advance Search -->
                            <div class="advanced-search-body" ng-if="search && !templateProperties">
                                <div class="slds-grid slds-m-top--medium slds-p-horizontal--small">
                                    <div class="slds-col slds-has-flexi-truncate">
                                      <div class="slds-media slds-no-space slds-grow">
                                        <div class="slds-media__body">
                                          <h1 class="slds-page-header__title slds-m-right--small slds-align-middle slds-truncate">{!$label.CLMTemplateAdvSearch}</h1>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="slds-col slds-no-flex slds-grid slds-align-top">
                                        <button type="button" class="slds-button slds-button--neutral slds-float--right" ng-click="clearSearch()">{!$label.CLMTemplateClearSearch}</button>
                                        <button type="button" class="slds-button slds-button--neutral slds-float--right" ng-click="cancelSearch()">{!$label.CLMTemplateCancel}</button>
                                    </div>
                                </div>
                                <div class="slds-grid slds-size--1-of-1">
                                    <div class="slds-form-element slds-size--1-of-1 slds-p-around--small">
                                        <label class="slds-form-element__label" for="template-name">{!$label.CLMTemplateSearchTemplateName}</label>
                                        <input class="slds-input" id="template-name" type="text" ng-model="query.Name" placeholder="{!$label.CLMTemplateEnterTemplateName}" ng-disabled="templateActive" />
                                    </div>
                                </div>
                                <div class="slds-grid slds-size--1-of-1">
                                  <div class="slds-form-element slds-size--1-of-2 slds-p-around--small">
                                      <label class="slds-form-element__label">{!$label.CLMTemplateSelectAllApplicableObjHeaders}</label>
                                      <div class="slds-form-element__control">
                                        <label class="slds-checkbox" ng-repeat="applicableType in applicableTypes">
                                            <input type="checkbox" ng-value="applicableType.Value" ng-model="query.ApplicableTypes[applicableType.Value]" ng-disabled="templateActive"/>
                                             <span class="slds-checkbox--faux"></span>
                                             <span class="slds-form-element__label">{{applicableType.Label}}</span> 
                                        </label>
                                      </div>
                                  </div>
                                  <div class="slds-form-element slds-size--1-of-2 slds-p-around--small" ng-class="{'has-error': validationErrors.templateApplicableItemTypes}">
                                      <label class="slds-form-element__label"> {!$label.CLMTemplateSelectAllApplicableObjLines}</label>
                                      <div class="slds-form-element__control">
                                        <label class="slds-checkbox" ng-repeat="applicableItemType in applicableItemTypes">
                                            <input type="checkbox" ng-value="applicableItemType.Value" ng-model="query.ApplicableItemTypes[applicableItemType.Value]" ng-disabled="templateActive"/>
                                             <span class="slds-checkbox--faux"></span>
                                             <span class="slds-form-element__label">{{applicableItemType.Label}}</span>  
                                        </label>
                                      </div>
                                  </div>
                                </div>
                                <div class="slds-form-element signature-required slds-size--1-of-1 slds-p-around--small">
                                    <div class="slds-form-element__control">
                                        <label class="slds-checkbox">
                                            <input class="slds-input" type="checkbox" ng-model="query.IsSignature" ng-disabled="templateActive" /> 
                                            <span class="slds-checkbox--faux"></span>
                                            <span class="slds-form-element__label">{!$label.CLMTemplateSignatureRequired}</span>
                                        </label>
                                    </div>
                                    <div class="slds-form-element"> 
                                        <label class="slds-checkbox">
                                            <input type="checkbox" id="templateIsActive" ng-model="query.IsActive"/> 
                                            <span class="slds-checkbox--faux"></span>
                                           <span class="slds-form-element__label">{!$label.CLMTemplateActive}</span>  
                                        </label>
                                    </div>
                                </div>
                                <div class="slds-form-element slds-size--1-of-1 slds-p-left--small">
                                    <label class="slds-form-element__label" for="template-name">{!$label.CLMTemplateSearchSectionName}</label>
                                    <input id="template-name" class="slds-input" type="text" ng-model="query.SectionName" placeholder="{!$label.CLMTemplateEnterSectionName}" ng-disabled="templateActive" />
                                </div>
                                <div class="slds-form-element slds-size--1-of-1 slds-p-left--small slds-p-top--small">
                                    <label class="slds-form-element__label" for="template-type">{!$label.CLMTemplateSearchSectionContent}</label>
                                    <input id="template-name" class="slds-input" type="text" ng-model="query.SectionContent" placeholder="{!$label.CLMTemplateEnterSectionContent}" ng-disabled="templateActive" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var nameSpacePrefix = '{!nameSpacePrefix}';
        var remoteActions = {
            getAllTemplates: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getAllTemplates}',
                config: {escape: false}
            },
            getSectionsForTemplate: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getSectionsForTemplate}',
                config: {escape: false}
            },
            getTypeValues: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getTypeValues}',
                config: {escape: false}
            },
            getApplicableTypeValues: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getApplicableTypeValues}',
                config: {escape: false}
            },
            getApplicableItemTypeValues: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getApplicableItemTypeValues}',
                config: {escape: false}
            },
            getSectionTypes: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getSectionTypes}',
                config: {escape: false}
            },
            getClauses: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getClauses}',
                config: {escape: false}
            },
            getTemplate: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getTemplate}',
                config: {escape: false}
            },
            getGenericClauses: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getGenericClauses}',
                config: {escape: false}
            },
            saveTemplate: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.saveDocTemplate}',
                config: {escape: false}
            },
            saveTemplateSection: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.saveTemplateSection}',
                config: {escape: false}
            },
            saveAllSections: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.saveAllSections}',
                config: {escape: false}
            },
            deleteTemplateSection: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.deleteTemplateSection}',
                config: {escape: false}
            },
            cloneAllSections: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.cloneAllSections}',
                config: {escape: false}
            },
            deactivateTemplate: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.deactivateTemplate}',
                config: {escape: false}
            },
            deleteTemplate: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.deleteTemplate}',
                config: {escape:false}
            },
            createNewVersion: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.createNewVersion}',
                config: {escape: false}
            },
            getAllFolders: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getAllFolders}',
                config: {escape:false}
            },
            getAllImages: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getAllImages}',
                config: {escape:false}
            },
            getSignatureTabs: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getSignatureTabs}',
                config: {escape:false}
            },
            getTemplateProducts: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getTemplateProducts}',
                config: {escape:false}
            },
            getProducts: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getProducts}',
                config: {escape:false}
            }, 
            getEntityFilters: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getEntityFilters}',
                config: {escape:false}
            },
            getTemplateConditions: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getTemplateConditions}',
                config: {escape:false}
            },
            validateCustomClass: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.validateCustomClass}',
                config: {escape:false}
            },
            createEntityFilter: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.createEntityFilter}',
                config: {escape:false}
            },
            getTrackChangeSetting: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getTrackChangeSetting}',
                config: {escape:false}
            },
            getContractTypeList: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getContractTypeList}',
                config: {escape: false}
            },
            getDefaultContractType: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getDefaultContractType}',
                config: {escape: false}
            },
            isEntityFilterEmpty: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.isEntityFilterEmpty}',
                config: {escape: false}
            },
            getFieldLabels: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getFieldLabels}',
                config: {escape: false}
            },
            getDRBundleId: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getDRBundleId}',
                config: {escape: false}
            }, 
            getUsageValues: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.getUsageValues}',
                config: {escape: false}
            },
            saveDocxRelMetadata: {
                action: '{!$RemoteAction.DocumentTemplateDisplayController.saveDocxRelMetadata}',
                config: {escape: false}
            }
        };
        var modalLabels = {
            'CLMClauseClose': '{!$Label.CLMClauseClose}',
            'CLMTemplateTemplateDetails': "{!$Label.CLMTemplateTemplateDetails}",
            'CLMTemplateTemplateName': '{!$Label.CLMTemplateTemplateName}',
            'CLMTemplateActive': '{!$label.CLMTemplateActive}',
            'CLMTemplateVersion': '{!$label.CLMTemplateVersion}',
            'CLMTemplateSelectAllApplicableObjHeaders': '{!$label.CLMTemplateSelectAllApplicableObjHeaders}',
            'CLMTemplateSelectAllApplicableObjLines': '{!$label.CLMTemplateSelectAllApplicableObjLines}',
            'CLMTemplateTrackContractRedlines': '{!$label.CLMTemplateTrackContractRedlines}',
            'CLMTemplateTrackRedlines': '{!$label.CLMTemplateTrackRedlines}',
            'CLMTemplateRestrictTemplateToContractTypes': '{!$label.CLMTemplateRestrictTemplateToContractTypes}',
            'CLMTemplateSpecifyContractTypes': '{!$label.CLMTemplateSpecifyContractTypes}',
            'CLMTemplateAllContractTypes': '{!$label.CLMTemplateAllContractTypes}',
            'CLMTemplateSwitchToDefault': '{!$label.CLMTemplateSwitchToDefault}',
            'CLMTemplateEditDocumentDefaultStyling': '{!$label.CLMTemplateEditDocumentDefaultStyling}',
            'CLMTemplateDefaultFontFamilyDocument': '{!$label.CLMTemplateDefaultFontFamilyDocument}',
            'CLMTemplateDefineStyleEachSectionHeading': '{!$label.CLMTemplateDefineStyleEachSectionHeading}',
            'CLMTemplateSample': '{!$label.CLMTemplateSample}',
            'CLMTemplateText': '{!$label.CLMTemplateText}',
            'CLMTemplateSelectAllFontFormatsToApply': '{!$label.CLMTemplateSelectAllFontFormatsToApply}',
            'CLMTemplateFontSize': '{!$label.CLMTemplateFontSize}',
            'CLMTemplateFontColor': '{!$label.CLMTemplateFontColor}',
            'CLMTemplateFontFamily': '{!$label.CLMTemplateFontFamily}',
            'CLMTemplateSelectTextAlignment': '{!$label.CLMTemplateSelectTextAlignment}',
            'CLMTemplateSelectIndentation': '{!$label.CLMTemplateSelectIndentation}',
            'CLMTemplateCloneExistingTemplate': '{!$label.CLMTemplateCloneExistingTemplate}',
            'CLMTemplateCancel': '{!$label.CLMTemplateCancel}',
            'CLMTemplateClearClone': '{!$label.CLMTemplateClearClone}',
            'CLMTemplateDeactivateTemplate': '{!$label.CLMTemplateDeactivateTemplate}',
            'CLMTemplateCreateNewVersion': '{!$label.CLMTemplateCreateNewVersion}',
            'CLMTemplateDeleteTemplate': '{!$label.CLMTemplateDeleteTemplate}',
            'CLMTemplateSignatureRequired': '{!$label.CLMTemplateSignatureRequired}',
            'CLMTemplateSectionErrorsMsg': '{!$label.CLMTemplateSectionErrorsMsg}',
            'CLMTemplateOkay': '{!$label.CLMTemplateOkay}',
            'CLMTemplateUnsavedSectionsMsg': '{!$label.CLMTemplateUnsavedSectionsMsg}',
            'CLMTemplateSaveTemplateVersionMsg': '{!$label.CLMTemplateSaveTemplateVersionMsg}',
            'CLMTemplateSaveTemplate': '{!$label.CLMTemplateSaveTemplate}',
            'CLMTemplatePickImg': '{!$label.CLMTemplatePickImg}',
            'CLMTemplateSelectedImg': '{!$label.CLMTemplateSelectedImg}',
            'CLMTemplateInsert': '{!$label.CLMTemplateInsert}',
            'CLMTemplatePickSignerRole' :'{!$label.CLMTemplatePickSignerRole}',
            'CLMTemplateAnchorString' :'{!$label.CLMTemplateAnchorString}',
            'CLMTemplateSignerRoles' : '{!$label.CLMTemplateSignerRoles}',
            'CLMTemplateSaveTemplateDetails': '{!$label.CLMTemplateSaveTemplateDetails}',
            'CLMTemplateCloneTemplate': '{!$label.CLMTemplateCloneTemplate}',
            'CLMTemplateDeleteSection': '{!$label.CLMTemplateDeleteSection}',
            'CLMClauseAreYouSureDeleteSection': '{!$label.CLMClauseAreYouSureDeleteSection}',
            'CLMTemplateTokenMapping': '{!$label.CLMTemplateTokenMapping}',
            'CLMTemplateTokenMappingChangeWarning': '{!$label.CLMTemplateTokenMappingChangeWarning}',
            'CLMTemplateDefineDataMappingForToken':'{!$label.CLMTemplateDefineDataMappingForToken}',
            'CLMTemplateForApplicableType':'{!$label.CLMTemplateForApplicableType}',
            'CLMTemplateTokenMappingObjNoField':'{!$label.CLMTemplateTokenMappingObjNoField}',
            'CLMTemplateApply':'{!$label.CLMTemplateApply}',
            'CLMTemplateDefineMapping': '{!$label.CLMTemplateDefineMapping}',
            'CLMTemplateEdit': '{!$label.CLMTemplateEdit}', 
            'CLMTemplateEmptyFolder': '{!$label.CLMTemplateEmptyFolder}'
        };
        var labels = {
            'CLMTemplateSectionErrorsExist' : '{!$label.CLMTemplateSectionErrorsExist}',
            'CLMTemplateSectionNotSaved' : '{!$label.CLMTemplateSectionNotSaved}',
            'CLMTemplateNoSectionsTemplate': '{!$label.CLMTemplateNoSectionsTemplate}',
            'CLMTemplateClickAddNewSection' : '{!$label.CLMTemplateClickAddNewSection}',
            'CLMTemplateCreateNewTemplateSetting': '{!$label.CLMTemplateClickAddNewSection}',
            'CLMTemplateSectionNumbering': '{!$label.CLMTemplateSectionNumbering}',
            'CLMTemplateSaveTemplateDetails': '{!$label.CLMTemplateSaveTemplateDetails}',
            'CLMTemplateStartNewTemplate': '{!$label.CLMTemplateStartNewTemplate}',
            'CLMTemplateEditTemplateDetails': '{!$label.CLMTemplateEditTemplateDetails}',
            'CLMTemplateSaveAllSections': '{!$label.CLMTemplateSaveAllSections}',
            'CLMTemplateCopy': '{!$label.CLMTemplateCopy}',
            'CLMTemplateEmbeddedTemplate': '{!$label.CLMTemplateEmbeddedTemplate}',
            'CLMTemplateViewing': '{!$label.CLMTemplateViewing}',
            'CLMTemplateEditing': '{!$label.CLMTemplateEditing}',
            'CLMTemplateOfTemplate':'{!$label.CLMTemplateOfTemplate}',
            'CLMTemplateNowEditingVersion':'{!$label.CLMTemplateNowEditingVersion}',
            'CLMTemplateTemplateIs':'{!$label.CLMTemplateTemplateIs}',
            'CLMTemplateInactive':'{!$label.CLMTemplateInactive}',
            'CLMTemplateCloneTemplate':'{!$label.CLMTemplateCloneTemplate}',
            'CLMTemplateSelectExistingTempalte':'{!$label.CLMTemplateSelectExistingTempalte}',
            'CLMTemplateDataFrom':'{!$label.CLMTemplateDataFrom}',
            'CLMTemplateStartNewTemplate':'{!$label.CLMTemplateStartNewTemplate}',
            'CLMTemplateChooseSectionType':'{!$label.CLMTemplateChooseSectionType}',
            'CLMTemplateSaveSection':'{!$label.CLMTemplateSaveSection}',
            'CLMTemplateDeleteSection':'{!$label.CLMTemplateDeleteSection}',
            'CLMTemplateEditingSection':'{!$label.CLMTemplateEditingSection}',
            'CLMTemplateActiveReadOnly':'{!$label.CLMTemplateActiveReadOnly}',
            'CLMTemplateSaveTemplateDetails': '{!$label.CLMTemplateSaveTemplateDetails}',
            'CLMTemplateSuccessfully':'{!$label.CLMTemplateSuccessfully}',
            'CLMTemplateAllSectionsSaved':'{!$label.CLMTemplateAllSectionsSaved}',
            'CLMTemplateSavedTemplateSection':'{!$label.CLMTemplateSavedTemplateSection}',
            'CLMTemplateCustomClassNoImplementation':'{!$label.CLMTemplateCustomClassNoImplementation}',
            'CLMTemplateCustomClassNoExtension':'{!$label.CLMTemplateCustomClassNoExtension}',
            'CLMTemplateCustomClassNotExist':'{!$label.CLMTemplateCustomClassNotExist}',
            'CLMTemplateAllSectionsForTemplate':'{!$label.CLMTemplateAllSectionsForTemplate}',
            'CLMTemplateHaveSavedSuccessfully':'{!$label.CLMTemplateHaveSavedSuccessfully}',
            'CLMTemplateClonedSuccessfully':'{!$label.CLMTemplateClonedSuccessfully}',
            'CLMTemplateCustomClassCustomSectionNoImplementation':'{!$label.CLMTemplateCustomClassCustomSectionNoImplementation}',
            'CLMTemplateValidationErrorsOneOrMoreSections':'{!$label.CLMTemplateValidationErrorsOneOrMoreSections}',
            'CLMTemplateClonedNewTemplate':'{!$label.CLMTemplateClonedNewTemplate}',
            'CLMTemplateTheTemplate':'{!$label.CLMTemplateTheTemplate}',
            'CLMTemplateInactiveAndEditable':'{!$label.CLMTemplateInactiveAndEditable}',
            'CLMTemplateHasBeenDeleted':'{!$label.CLMTemplateHasBeenDeleted}',
            'CLMTemplateSeeMoreContracts':'{!$label.CLMTemplateSeeMoreContracts}',
            'CLMTemplateCannotBeDeletedUsed':'{!$label.CLMTemplateSeeMoreContracts}',
            'CLMTemplateCannotBeDeactivatedUsed':'{!$label.CLMTemplateCannotBeDeactivatedUsed}',
            'CLMTemplateEnterSectionName':'{!$label.CLMTemplateEnterSectionName}',
            'CLMTemplateContentIs':'{!$label.CLMTemplateContentIs}',
            'CLMTemplateCharactersExceedsLimit':'{!$label.CLMTemplateCharactersExceedsLimit}',
            'CLMTemplateEnterSectionLineItem':'{!$label.CLMTemplateEnterSectionLineItem}',
            'CLMTemplateEnterCustomClassName':'{!$label.CLMTemplateEnterCustomClassName}',
            'CLMTemplateEnterTokenMapping':'{!$label.CLMTemplateEnterTokenMapping}',
            'CLMTemplateEnterColumnHeader':'{!$label.CLMTemplateEnterColumnHeader}',
            'CLMTemplateEnterColumnToken':'{!$label.CLMTemplateEnterColumnToken}',
            'CLMTemplateEnterColumnHeaderAndToken':'{!$label.CLMTemplateEnterColumnHeaderAndToken}',
            'CLMTemplateEnterColumnTokenFormat':'{!$label.CLMTemplateEnterColumnTokenFormat}',
            'CLMTemplateTemplateNameExists':'{!$label.CLMTemplateTemplateNameExists}',
            'CLMTemplateNameCharacterLimit':'{!$label.CLMTemplateNameCharacterLimit}',
            'CLMTemplatePlsShorten':'{!$label.CLMTemplatePlsShorten}',
            'CLMTemplateEnterTemplateName':'{!$label.CLMTemplateEnterTemplateName}',
            'CLMTemplateSelectAtleastOne':'{!$label.CLMTemplateSelectAtleastOne}',
            'CLMTemplateEnterSectionContent': '{!$label.CLMTemplateEnterSectionContent}',
            'CLMTemplateActive': '{!$label.CLMTemplateActive}',
            'CLMTemplateColumnHeader':'{!$label.CLMTemplateColumnHeader}',
            'CLMTemplateColumnTokens':'{!$label.CLMTemplateColumnTokens}',
            'CLMTemplateTotalTokens':'{!$label.CLMTemplateTotalTokens}',
            'CLMTemplateSectionHeading': '{!$label.CLMTemplateSectionHeading}',
            'CLMTemplateConditionalJson': '{!$label.CLMTemplateConditionalJson}',
            'CLMTemplateConditionalJsonSectionTabLabel': '{!$label.CLMTemplateConditionalJsonSectionTabLabel}',
            'CLMTemplateConditionalJsonRepeatableTabLabel': '{!$label.CLMTemplateConditionalJsonRepeatableTabLabel}',
            'CLMTemplateConditionalJsonPlaceholder': '{!$label.CLMTemplateConditionalJsonPlaceholder}',
            'CLMTemplateConditionalJsonRepeatable': '{!$label.CLMTemplateConditionalJsonRepeatable}',
            'CLMTemplateDRBundleName': '{!$label.CLMTemplateDRBundleName}',
            'CLMTemplateDRBundleNamePlaceholder': '{!$label.CLMTemplateDRBundleNamePlaceholder}',
            'CLMTemplateDRBundleIconText': '{!$label.CLMTemplateDRBundleIconText}',
            'CLMTemplateDEDRBundleIconText': '{!$label.CLMTemplateDEDRBundleIconText}',
            'CLMTemplateWordDocTemplateName': '{!$label.CLMTemplateWordDocTemplateName}',
            'CLMTemplateWordDocTemplateNamePlaceholder': '{!$label.CLMTemplateWordDocTemplateNamePlaceholder}',
            'CLMTemplateDataExtractDataBundleName': '{!$label.CLMTemplateDataExtractDataBundleName}',
            'CLMTemplateDataExtractDataBundleNamePlaceholder': '{!$label.CLMTemplateDataExtractDataBundleNamePlaceholder}',
            'CLMTemplateUsageType': '{!$label.CLMTemplateUsageType}',
            'CLMTemplateDisplayUnmappedTokens' : '{!$label.CLMTemplateDisplayUnmappedTokens}'
        };
    </script>
    <c:ContractTokenMappingComponent />
    </body>
</html>
</apex:page>